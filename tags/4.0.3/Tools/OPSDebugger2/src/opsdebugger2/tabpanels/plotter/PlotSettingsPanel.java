/*
 * PlotSettingsPanel.java
 *
 * Created on den 4 maj 2008, 11:53
 */

package opsdebugger2.tabpanels.plotter;

import java.awt.BasicStroke;
import java.awt.Color;
import javax.swing.JColorChooser;
import opsdebugger2.OPSDebugger2App;

/**
 *
 * @author  angr
 */
public class PlotSettingsPanel extends javax.swing.JPanel {
    
    private PlotSettings settings = new PlotSettings();
    private Color col = Color.BLACK;
    
    
    
    /** Creates new form PlotSettingsPanel */
    public PlotSettingsPanel(String name) {
        initComponents();
        nameTextField.setText(name);
        
        settings.color = Color.BLACK;
        
    }

    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jProgressBar1 = new javax.swing.JProgressBar();
        strokeWidthLabel = new javax.swing.JLabel();
        strokeWidthTextField = new javax.swing.JTextField();
        colorButton = new javax.swing.JButton();
        transformationLabel = new javax.swing.JLabel();
        transformationComboBox = new javax.swing.JComboBox();
        scaleLabel = new javax.swing.JLabel();
        scaleTextField = new javax.swing.JTextField();
        translatationLabel = new javax.swing.JLabel();
        translatationTextField = new javax.swing.JTextField();
        nameTextField = new javax.swing.JTextField();
        nameLabel = new javax.swing.JLabel();
        keyLabel = new javax.swing.JLabel();
        keyField = new javax.swing.JTextField();

        jProgressBar1.setName("jProgressBar1"); // NOI18N

        setName("Form"); // NOI18N

        org.jdesktop.application.ResourceMap resourceMap = org.jdesktop.application.Application.getInstance(opsdebugger2.OPSDebugger2App.class).getContext().getResourceMap(PlotSettingsPanel.class);
        strokeWidthLabel.setText(resourceMap.getString("strokeWidthLabel.text")); // NOI18N
        strokeWidthLabel.setName("strokeWidthLabel"); // NOI18N

        strokeWidthTextField.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        strokeWidthTextField.setText(resourceMap.getString("strokeWidthTextField.text")); // NOI18N
        strokeWidthTextField.setName("strokeWidthTextField"); // NOI18N

        colorButton.setText(resourceMap.getString("colorButton.text")); // NOI18N
        colorButton.setName("colorButton"); // NOI18N
        colorButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                colorButtonActionPerformed(evt);
            }
        });

        transformationLabel.setText(resourceMap.getString("transformationLabel.text")); // NOI18N
        transformationLabel.setName("transformationLabel"); // NOI18N

        transformationComboBox.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "NONE", "RAD_TO_DEG", "DEG_TO_RAD" }));
        transformationComboBox.setName("transformationComboBox"); // NOI18N

        scaleLabel.setText(resourceMap.getString("scaleLabel.text")); // NOI18N
        scaleLabel.setName("scaleLabel"); // NOI18N

        scaleTextField.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        scaleTextField.setText(resourceMap.getString("scaleTextField.text")); // NOI18N
        scaleTextField.setName("scaleTextField"); // NOI18N

        translatationLabel.setText(resourceMap.getString("translatationLabel.text")); // NOI18N
        translatationLabel.setName("translatationLabel"); // NOI18N

        translatationTextField.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        translatationTextField.setText(resourceMap.getString("translatationTextField.text")); // NOI18N
        translatationTextField.setName("translatationTextField"); // NOI18N

        nameTextField.setText(resourceMap.getString("nameTextField.text")); // NOI18N
        nameTextField.setName("nameTextField"); // NOI18N

        nameLabel.setText(resourceMap.getString("nameLabel.text")); // NOI18N
        nameLabel.setName("nameLabel"); // NOI18N

        keyLabel.setText(resourceMap.getString("keyLabel.text")); // NOI18N
        keyLabel.setName("keyLabel"); // NOI18N

        keyField.setText(resourceMap.getString("keyField.text")); // NOI18N
        keyField.setName("keyField"); // NOI18N

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(this);
        this.setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(transformationLabel)
                    .addComponent(scaleLabel)
                    .addComponent(translatationLabel)
                    .addComponent(strokeWidthLabel)
                    .addComponent(nameLabel)
                    .addComponent(keyLabel))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(nameTextField, javax.swing.GroupLayout.DEFAULT_SIZE, 128, Short.MAX_VALUE)
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
                        .addComponent(strokeWidthTextField, javax.swing.GroupLayout.DEFAULT_SIZE, 53, Short.MAX_VALUE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(colorButton))
                    .addComponent(scaleTextField, javax.swing.GroupLayout.DEFAULT_SIZE, 128, Short.MAX_VALUE)
                    .addComponent(transformationComboBox, 0, 128, Short.MAX_VALUE)
                    .addComponent(translatationTextField, javax.swing.GroupLayout.DEFAULT_SIZE, 128, Short.MAX_VALUE)
                    .addComponent(keyField, javax.swing.GroupLayout.DEFAULT_SIZE, 128, Short.MAX_VALUE))
                .addContainerGap())
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(nameLabel)
                    .addComponent(nameTextField, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(keyLabel)
                    .addComponent(keyField, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(strokeWidthLabel)
                    .addComponent(colorButton)
                    .addComponent(strokeWidthTextField, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(transformationLabel)
                    .addComponent(transformationComboBox, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(scaleLabel)
                    .addComponent(scaleTextField, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(translatationLabel)
                    .addComponent(translatationTextField, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap())
        );
    }// </editor-fold>//GEN-END:initComponents

private void colorButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_colorButtonActionPerformed
// TODO add your handling code here:
    
    col = JColorChooser.showDialog(this, "Plot color", Color.BLACK);

    
    settings.color = col;
    
    
    
    
}//GEN-LAST:event_colorButtonActionPerformed

    public PlotSettings getSettings()
    {
        
        String[] keyStrings = keyField.getText().split(" ");
        for (String string : keyStrings)
        {
            settings.keyVec.add(string);
        }
        
        settings.stroke = new BasicStroke(Float.parseFloat(strokeWidthTextField.getText()));
        settings.transform = 1;
        settings.scaleFactor = Double.parseDouble(scaleTextField.getText());
        settings.translatation = Double.parseDouble(translatationTextField.getText());
        settings.nickname = nameTextField.getText();
        
        switch(transformationComboBox.getSelectedIndex())
        {
            case 0:
                settings.transform = 1.0;
                break;
            case 1:
                settings.transform = PlotSettings.RAD_TO_DEG;
                break;
            case 2:
                settings.transform = PlotSettings.DEG_TO_RAD;
                break;
            default: 
                settings.transform = 1.0;
                
        }
        
        return settings;
    }


    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton colorButton;
    private javax.swing.JProgressBar jProgressBar1;
    private javax.swing.JTextField keyField;
    private javax.swing.JLabel keyLabel;
    private javax.swing.JLabel nameLabel;
    private javax.swing.JTextField nameTextField;
    private javax.swing.JLabel scaleLabel;
    private javax.swing.JTextField scaleTextField;
    private javax.swing.JLabel strokeWidthLabel;
    private javax.swing.JTextField strokeWidthTextField;
    private javax.swing.JComboBox transformationComboBox;
    private javax.swing.JLabel transformationLabel;
    private javax.swing.JLabel translatationLabel;
    private javax.swing.JTextField translatationTextField;
    // End of variables declaration//GEN-END:variables

}
