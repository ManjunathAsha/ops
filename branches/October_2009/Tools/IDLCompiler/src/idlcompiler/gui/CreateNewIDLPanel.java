/*
 * CreateNewIDLPanel.java
 *
 * Created on den 26 november 2007, 16:09
 */

package idlcompiler.gui;

/**
 *
 * @author  angr
 */
public class CreateNewIDLPanel extends javax.swing.JPanel
{
    private String fileText;
    /** Creates new form CreateNewIDLPanel */
    public CreateNewIDLPanel()
    {
        initComponents();
    }
    public String getPackage()
    {
        return packageTextField.getText();
    }
    public String getPath()
    {
        return packageTextField.getText().replace(".", "/") + "/";
    }
    public String getName()
    {
        return nameTextField.getText();
    }
    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        packageLabel = new javax.swing.JLabel();
        packageTextField = new javax.swing.JTextField();
        nameLabel = new javax.swing.JLabel();
        nameTextField = new javax.swing.JTextField();
        fileTextField = new javax.swing.JTextField();
        fileLable = new javax.swing.JLabel();

        packageLabel.setText("Package (Example: messages.mypacket)");

        packageTextField.addCaretListener(new javax.swing.event.CaretListener() {
            public void caretUpdate(javax.swing.event.CaretEvent evt) {
                packageTextFieldCaretUpdate(evt);
            }
        });
        packageTextField.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                packageTextFieldActionPerformed(evt);
            }
        });
        packageTextField.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                packageTextFieldKeyTyped(evt);
            }
        });

        nameLabel.setText("Name (Example: MyData)");

        nameTextField.addCaretListener(new javax.swing.event.CaretListener() {
            public void caretUpdate(javax.swing.event.CaretEvent evt) {
                nameTextFieldCaretUpdate(evt);
            }
        });
        nameTextField.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                nameTextFieldKeyPressed(evt);
            }
        });

        fileTextField.setEditable(false);

        fileLable.setText("File to be created:");

        org.jdesktop.layout.GroupLayout layout = new org.jdesktop.layout.GroupLayout(this);
        this.setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
            .add(layout.createSequentialGroup()
                .addContainerGap()
                .add(layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING, false)
                    .add(fileLable)
                    .add(nameTextField, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 345, Short.MAX_VALUE)
                    .add(nameLabel)
                    .add(packageTextField, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, 345, Short.MAX_VALUE)
                    .add(packageLabel)
                    .add(fileTextField))
                .addContainerGap(org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(org.jdesktop.layout.GroupLayout.LEADING)
            .add(org.jdesktop.layout.GroupLayout.TRAILING, layout.createSequentialGroup()
                .addContainerGap(35, Short.MAX_VALUE)
                .add(packageLabel)
                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                .add(packageTextField, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                .add(nameLabel)
                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                .add(nameTextField, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                .add(fileLable)
                .addPreferredGap(org.jdesktop.layout.LayoutStyle.RELATED)
                .add(fileTextField, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE, org.jdesktop.layout.GroupLayout.DEFAULT_SIZE, org.jdesktop.layout.GroupLayout.PREFERRED_SIZE)
                .addContainerGap())
        );
    }// </editor-fold>//GEN-END:initComponents

    private void nameTextFieldCaretUpdate(javax.swing.event.CaretEvent evt)//GEN-FIRST:event_nameTextFieldCaretUpdate
    {//GEN-HEADEREND:event_nameTextFieldCaretUpdate
// TODO add your handling code here:
        updateFileFields();
    }//GEN-LAST:event_nameTextFieldCaretUpdate

    private void packageTextFieldCaretUpdate(javax.swing.event.CaretEvent evt)//GEN-FIRST:event_packageTextFieldCaretUpdate
    {//GEN-HEADEREND:event_packageTextFieldCaretUpdate
// TODO add your handling code here:
        updateFileFields();
    }//GEN-LAST:event_packageTextFieldCaretUpdate

    private void packageTextFieldActionPerformed(java.awt.event.ActionEvent evt)//GEN-FIRST:event_packageTextFieldActionPerformed
    {//GEN-HEADEREND:event_packageTextFieldActionPerformed
// TODO add your handling code here:
        updateFileFields();
    }//GEN-LAST:event_packageTextFieldActionPerformed

    private void nameTextFieldKeyPressed(java.awt.event.KeyEvent evt)//GEN-FIRST:event_nameTextFieldKeyPressed
    {//GEN-HEADEREND:event_nameTextFieldKeyPressed
// TODO add your handling code here:
        //updateFileFields();
    }//GEN-LAST:event_nameTextFieldKeyPressed

    private void packageTextFieldKeyTyped(java.awt.event.KeyEvent evt)//GEN-FIRST:event_packageTextFieldKeyTyped
    {//GEN-HEADEREND:event_packageTextFieldKeyTyped
// TODO add your handling code here:
        //updateFileFields();
    }//GEN-LAST:event_packageTextFieldKeyTyped

    private void updateFileFields()
    {
        String s = getPackage().replace(".", "/") + "/" + getName();
        if(!s.endsWith(".idl"))
        {
            s += ".idl";
        }
        setFileText(s);
        fileTextField.setText(getFileText());
    }

    public String getFileText()
    {
        return fileText;
    }

    public void setFileText(String fileText)
    {
        this.fileText = fileText;
    }
    
    
    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JLabel fileLable;
    private javax.swing.JTextField fileTextField;
    private javax.swing.JLabel nameLabel;
    private javax.swing.JTextField nameTextField;
    private javax.swing.JLabel packageLabel;
    private javax.swing.JTextField packageTextField;
    // End of variables declaration//GEN-END:variables

    
    
}
